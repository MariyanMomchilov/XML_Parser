# Документация на проект XML Parser

github: https://github.com/MariyanMomchilov/XML_Parser

**Име: Мариян Момчилов, Компютърнои науки, група 2, ФН: 81955**

## Документация

## Увод

Проектът реализира операции за работа с XML файлове. Основата на проекта се базира на изграждането на кореново дърво от елементите на XML файла, като преди това се използват методи за разбиване на текста на отделни компоненти. За почти всички операции свързани с елементите, реализацията се свежда до рекурсивно намиране на даден елемент и прилагане на съответната операция.

## Имплементация и тестове

Проектът съхранява всички елементи от файла под формата на кореново дърво. Коренът на дървото е този елемент, който съдържа всички останали. Тази структура от данни улеснява прилагането на операциите свързани с елементите.

Изграждането на дървото става рекурсивно, като се прочита всеки от ред от файла, този ред бива обработен и от него се създава един следните обекти: Tag, обикновен текст към даден елемент, Tag от тип листо(пример: <name>Pesho</name>). Елементите от дървото се описват с клас Node, който съдържа обект Tag, текста в този таг и списък с наследници(вложени елементи). Дъното при рекурсивното създаване на дървото е при достигане на Tag от тип листо(т.е елемент, който няма вложени елементи).

Проектът Xpath заявки, като поддържаните оператори са "/", "[]", "@", "=". Всяка заявка се разбива на операнди спрямо различните оператори, изгражда се масив от тези от операнди и върху всяка операнда от този масив се прилага съответния оператор, като резултата от заявката се записва също в масив от елементи. 

Тестовете свързани с проекта се съдържат във файла TEST.cpp.

Документацията по кода се съдържа в Generated_DOC/html/index.html.

## Инструкции за употреба

Приложението поддържа командите:

- open - Зарежда съдържанието на даден файл. Ако такъв не съществува се създава нов с празно съдържание.
- save - Записва направените промени обратно в същия файл, от който са били прочетени данните.
- saveas - Записва направените промени във файл, като позволява на потребителя да укаже неговия път.
- help - Извежда кратка информация за поддържаните от програмата команди.
- exit - излиза от програмата

- print - Извежда на екрана прочетената информация от XML файла.
- select <id> <key> - Извежда стойност на атрибут по даден идентификатор на елемента и ключ на атрибута
- set <id> <key> <value> - Присвояване на стойност на атрибут.
- children <id> - Списък с атрибути на вложените елементи.
- child <id> <n> - Достъп до n-тия наследник на елемент.
- text <id> - Достъп до текста на елемент.
- delete <id> <key> - Изтриване на атрибут на елемент по ключ.
- newchild <id> <tagname> - Добавяне на НОВ наследник на елемент. Новият елемент няма никакви атрибути, освен идентификатор и име на таг-а.
- xpath <id> <XPath> - Xpath заяка

Забележка: при невалидна xpath заявка програма прекратява изпълнението си

    Примерна употреба на Xpath заявките:

    файл: 

        <people>
            People tag that nests persons
            <person id="0">
                <name>John Smith</name>
                <address>USA</address>
            </person>
            <person id="0" color="green">
                <name>Ivan Petrov</name>
                <job>Programmer</job>
                <address>Bulgaria</address>
            </person>
            <animal color="brown">
                Animal tag nested in people
                <lama>
                    <name>Alex</name>
                </lama>
            </animal>
        </people>


    - "xpath 1 person/address" –> [USA, Bulgaria]
    - "xpath 7 lama/name" -> [Alex]
    - "xpath 1 person/name[1]" -> [Ivan Petrov]
    - "xpath 1 person(job="Programmer")/name -> [Ivan Petrov]
    - "xpath 1 animal(@id)" -> [7]


## Компилиране
 g++ main.cpp Node.cpp Generator.cpp IDFactory.cpp LineParser.cpp SlashOperand.cpp Tree.cpp XpathQueries.cpp  Commands.cpp